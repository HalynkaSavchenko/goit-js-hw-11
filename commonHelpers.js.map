{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst KEY = '42503060-b2c3bebb5268fd59c195d07ac';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst loader = document.querySelector('.loader');\n\nexport function getImages(query) {\n    const searchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    });\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    fontSize: 'large',\n                    close: false,\n                    position: 'topRight',\n                    messageColor: 'white',\n                    timeout: 2000,\n                    backgroundColor: 'red',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n            return data;\n        })\n    .catch((error)=>console.log(error))\n   \n}\n\n\n\n","export function createMarkup(data) {\n    return data.hits\n        .map(el =>\n        `<li class=\"gallery-item\">\n         <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n         <img src=\"${el.webformatURL}\" alt=\"${el.tags}\"/>\n         </a>\n          <ul class=\"container-info\">\n          <li><p class=\"item-info\"><span class=\"item-text\">Likes: </span>${el.likes}</p></li>\n          <li> <p class=\"item-info\"><span class=\"item-text\">Views: </span>${el.views}</p></li>\n          <li><p class=\"item-info\"><span class=\"item-text\">Comments: </span>${el.comments}</p></li>\n          <li><p class=\"item-info\"><span class=\"item-text\">Downloads: </span>${el.downloads}</p></li>\n      </ul>\n        </li>`\n    )\n        .join('')\n\n}\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from \"./js/pixabay-api.js\";\nimport { createMarkup } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector('.gallery');\nlet query;\nlet basicLightbox;\n\nconst simpleLightBox = new SimpleLightbox('gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    gallery.innerHTML = ''\n    query = event.target.elements.search.value;\n\n    getImages(query).then(data => {\n        const markup = createMarkup(data);\n        gallery.insertAdjacentHTML('beforeend', markup); \n        \n    }) \n});\n\ngallery.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n    if (event.target === event.currentTarget) {\n        const imageUrl = '${el.webformatURL}';\n        basicLightbox = new SimpleLightbox(imageUrl, {\n            closeText: 'Закрити',\n        });\n        basicLightbox.show();\n    }\n});\n\n\n\n\n"],"names":["KEY","BASE_URL","getImages","query","searchParams","response","data","iziToast","error","createMarkup","el","form","gallery","basicLightbox","SimpleLightbox","event","markup","imageUrl"],"mappings":"6vBAGA,MAAMA,EAAM,qCACNC,EAAW,2BACF,SAAS,cAAc,SAAS,EAExC,SAASC,EAAUC,EAAO,CAC7B,MAAMC,EAAe,IAAI,gBAAgB,CACzC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EACrC,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAS,EACA,KAAKC,IACEA,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACX,SAAU,QACV,MAAO,GACP,SAAU,WACV,aAAc,QACd,QAAS,IACT,gBAAiB,MACjB,QAAS,0EAC7B,CAAiB,EAEED,EACV,EACJ,MAAOE,GAAQ,QAAQ,IAAIA,CAAK,CAAC,CAEtC,CCtCO,SAASC,EAAaH,EAAM,CAC/B,OAAOA,EAAK,KACP,IAAII,GACL;AAAA,yCACiCA,EAAG,aAAa;AAAA,qBACpCA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA,2EAGsBA,EAAG,KAAK;AAAA,4EACPA,EAAG,KAAK;AAAA,8EACNA,EAAG,QAAQ;AAAA,+EACVA,EAAG,SAAS;AAAA;AAAA,cAGtF,EACI,KAAK,EAAE,CAEhB,CCVA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIT,EACAU,EAEmB,IAAIC,EAAe,eAAgB,CACtD,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpBT,EAAQY,EAAM,OAAO,SAAS,OAAO,MAErCb,EAAUC,CAAK,EAAE,KAAKG,GAAQ,CAC1B,MAAMU,EAASP,EAAaH,CAAI,EAChCM,EAAQ,mBAAmB,YAAaI,CAAM,CAEtD,CAAK,CACL,CAAC,EAEDJ,EAAQ,iBAAiB,QAAUG,GAAU,CAEzC,GADAA,EAAM,eAAc,EAChBA,EAAM,SAAWA,EAAM,cAAe,CACtC,MAAME,EAAW,qBACjBJ,EAAgB,IAAIC,EAAeG,EAAU,CACzC,UAAW,SACvB,CAAS,EACDJ,EAAc,KAAI,CACrB,CACL,CAAC"}